function _t(){import("data:text/javascript,")}const J=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))u(l);new MutationObserver(l=>{for(const f of l)if(f.type==="childList")for(const _ of f.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&u(_)}).observe(document,{childList:!0,subtree:!0});function o(l){const f={};return l.integrity&&(f.integrity=l.integrity),l.referrerpolicy&&(f.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?f.credentials="include":l.crossorigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function u(l){if(l.ep)return;l.ep=!0;const f=o(l);fetch(l.href,f)}};J();const Q={routes:{index:"/"},search:{types:{gallery:"gallery"}}};function W(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var F={};(function(t){var r=function(){var o=function(v,e,n,i){for(n=n||{},i=v.length;i--;n[v[i]]=e);return n},u=[1,9],l=[1,10],f=[1,11],_=[1,12],m=[5,11,12,13,14,15],P={trace:function(){},yy:{},symbols_:{error:2,root:3,expressions:4,EOF:5,expression:6,optional:7,literal:8,splat:9,param:10,"(":11,")":12,LITERAL:13,SPLAT:14,PARAM:15,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",11:"(",12:")",13:"LITERAL",14:"SPLAT",15:"PARAM"},productions_:[0,[3,2],[3,1],[4,2],[4,1],[6,1],[6,1],[6,1],[6,1],[7,3],[8,1],[9,1],[10,1]],performAction:function(e,n,i,a,s,c,I){var y=c.length-1;switch(s){case 1:return new a.Root({},[c[y-1]]);case 2:return new a.Root({},[new a.Literal({value:""})]);case 3:this.$=new a.Concat({},[c[y-1],c[y]]);break;case 4:case 5:this.$=c[y];break;case 6:this.$=new a.Literal({value:c[y]});break;case 7:this.$=new a.Splat({name:c[y]});break;case 8:this.$=new a.Param({name:c[y]});break;case 9:this.$=new a.Optional({},[c[y-1]]);break;case 10:this.$=e;break;case 11:case 12:this.$=e.slice(1);break}},table:[{3:1,4:2,5:[1,3],6:4,7:5,8:6,9:7,10:8,11:u,13:l,14:f,15:_},{1:[3]},{5:[1,13],6:14,7:5,8:6,9:7,10:8,11:u,13:l,14:f,15:_},{1:[2,2]},o(m,[2,4]),o(m,[2,5]),o(m,[2,6]),o(m,[2,7]),o(m,[2,8]),{4:15,6:4,7:5,8:6,9:7,10:8,11:u,13:l,14:f,15:_},o(m,[2,10]),o(m,[2,11]),o(m,[2,12]),{1:[2,1]},o(m,[2,3]),{6:14,7:5,8:6,9:7,10:8,11:u,12:[1,16],13:l,14:f,15:_},o(m,[2,9])],defaultActions:{3:[2,2],13:[2,1]},parseError:function(e,n){if(n.recoverable)this.trace(e);else{let i=function(a,s){this.message=a,this.hash=s};throw i.prototype=Error,new i(e,n)}},parse:function(e){var n=this,i=[0],a=[null],s=[],c=this.table,I="",y=0,V=0,D=2,q=1,H=s.slice.call(arguments,1),h=Object.create(this.lexer),k={yy:{}};for(var O in this.yy)Object.prototype.hasOwnProperty.call(this.yy,O)&&(k.yy[O]=this.yy[O]);h.setInput(e,k.yy),k.yy.lexer=h,k.yy.parser=this,typeof h.yylloc=="undefined"&&(h.yylloc={});var T=h.yylloc;s.push(T);var K=h.options&&h.options.ranges;typeof k.yy.parseError=="function"?this.parseError=k.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var B=function(){var x;return x=h.lex()||q,typeof x!="number"&&(x=n.symbols_[x]||x),x},p,b,d,$,w={},S,g,C,L;;){if(b=i[i.length-1],this.defaultActions[b]?d=this.defaultActions[b]:((p===null||typeof p=="undefined")&&(p=B()),d=c[b]&&c[b][p]),typeof d=="undefined"||!d.length||!d[0]){var j="";L=[];for(S in c[b])this.terminals_[S]&&S>D&&L.push("'"+this.terminals_[S]+"'");h.showPosition?j="Parse error on line "+(y+1)+`:
`+h.showPosition()+`
Expecting `+L.join(", ")+", got '"+(this.terminals_[p]||p)+"'":j="Parse error on line "+(y+1)+": Unexpected "+(p==q?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(j,{text:h.match,token:this.terminals_[p]||p,line:h.yylineno,loc:T,expected:L})}if(d[0]instanceof Array&&d.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+p);switch(d[0]){case 1:i.push(p),a.push(h.yytext),s.push(h.yylloc),i.push(d[1]),p=null,V=h.yyleng,I=h.yytext,y=h.yylineno,T=h.yylloc;break;case 2:if(g=this.productions_[d[1]][1],w.$=a[a.length-g],w._$={first_line:s[s.length-(g||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(g||1)].first_column,last_column:s[s.length-1].last_column},K&&(w._$.range=[s[s.length-(g||1)].range[0],s[s.length-1].range[1]]),$=this.performAction.apply(w,[I,V,y,k.yy,d[1],a,s].concat(H)),typeof $!="undefined")return $;g&&(i=i.slice(0,-1*g*2),a=a.slice(0,-1*g),s=s.slice(0,-1*g)),i.push(this.productions_[d[1]][0]),a.push(w.$),s.push(w._$),C=c[i[i.length-2]][i[i.length-1]],i.push(C);break;case 3:return!0}}return!0}},Y=function(){var v={EOF:1,parseError:function(n,i){if(this.yy.parser)this.yy.parser.parseError(n,i);else throw new Error(n)},setInput:function(e,n){return this.yy=n||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var n=e.match(/(?:\r\n?|\n).*/g);return n?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var n=e.length,i=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n;var a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var s=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===a.length?this.yylloc.first_column:0)+a[a.length-i.length].length-i[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),n=new Array(e.length+1).join("-");return e+this.upcomingInput()+`
`+n+"^"},test_match:function(e,n){var i,a,s;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),a=e[0].match(/(?:\r\n?|\n).*/g),a&&(this.yylineno+=a.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:a?a[a.length-1].length-a[a.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],i=this.performAction.call(this,this.yy,this,n,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i)return i;if(this._backtrack){for(var c in s)this[c]=s[c];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,n,i,a;this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),c=0;c<s.length;c++)if(i=this._input.match(this.rules[s[c]]),i&&(!n||i[0].length>n[0].length)){if(n=i,a=c,this.options.backtrack_lexer){if(e=this.test_match(i,s[c]),e!==!1)return e;if(this._backtrack){n=!1;continue}else return!1}else if(!this.options.flex)break}return n?(e=this.test_match(n,s[a]),e!==!1?e:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var n=this.next();return n||this.lex()},begin:function(n){this.conditionStack.push(n)},popState:function(){var n=this.conditionStack.length-1;return n>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(n){return n=this.conditionStack.length-1-Math.abs(n||0),n>=0?this.conditionStack[n]:"INITIAL"},pushState:function(n){this.begin(n)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(n,i,a,s){switch(a){case 0:return"(";case 1:return")";case 2:return"SPLAT";case 3:return"PARAM";case 4:return"LITERAL";case 5:return"LITERAL";case 6:return"EOF"}},rules:[/^(?:\()/,/^(?:\))/,/^(?:\*+\w+)/,/^(?::+\w+)/,/^(?:[\w%\-~\n]+)/,/^(?:.)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6],inclusive:!0}}};return v}();P.lexer=Y;function A(){this.yy={}}return A.prototype=P,P.Parser=A,new A}();typeof W!="undefined"&&(t.parser=r,t.Parser=r.Parser,t.parse=function(){return r.parse.apply(r,arguments)})})(F);function R(t){return function(r,o){return{displayName:t,props:r,children:o||[]}}}var M={Root:R("Root"),Concat:R("Concat"),Literal:R("Literal"),Splat:R("Splat"),Param:R("Param"),Optional:R("Optional")},U=F.parser;U.yy=M;var X=U,Z=Object.keys(M);function tt(t){return Z.forEach(function(r){if(typeof t[r]=="undefined")throw new Error("No handler defined for "+r.displayName)}),{visit:function(r,o){return this.handlers[r.displayName].call(this,r,o)},handlers:t}}var z=tt,et=z,rt=/[\-{}\[\]+?.,\\\^$|#\s]/g;function G(t){this.captures=t.captures,this.re=t.re}G.prototype.match=function(t){var r=this.re.exec(t),o={};if(!!r)return this.captures.forEach(function(u,l){typeof r[l+1]=="undefined"?o[u]=void 0:o[u]=decodeURIComponent(r[l+1])}),o};var nt=et({Concat:function(t){return t.children.reduce(function(r,o){var u=this.visit(o);return{re:r.re+u.re,captures:r.captures.concat(u.captures)}}.bind(this),{re:"",captures:[]})},Literal:function(t){return{re:t.props.value.replace(rt,"\\$&"),captures:[]}},Splat:function(t){return{re:"([^?]*?)",captures:[t.props.name]}},Param:function(t){return{re:"([^\\/\\?]+)",captures:[t.props.name]}},Optional:function(t){var r=this.visit(t.children[0]);return{re:"(?:"+r.re+")?",captures:r.captures}},Root:function(t){var r=this.visit(t.children[0]);return new G({re:new RegExp("^"+r.re+"(?=\\?|$)"),captures:r.captures})}}),it=nt,st=z,ot=st({Concat:function(t,r){var o=t.children.map(function(u){return this.visit(u,r)}.bind(this));return o.some(function(u){return u===!1})?!1:o.join("")},Literal:function(t){return decodeURI(t.props.value)},Splat:function(t,r){return r[t.props.name]?r[t.props.name]:!1},Param:function(t,r){return r[t.props.name]?r[t.props.name]:!1},Optional:function(t,r){var o=this.visit(t.children[0],r);return o||""},Root:function(t,r){r=r||{};var o=this.visit(t.children[0],r);return o?encodeURI(o):!1}}),at=ot,lt=X,ct=it,ht=at;E.prototype=Object.create(null);E.prototype.match=function(t){var r=ct.visit(this.ast),o=r.match(t);return o||!1};E.prototype.reverse=function(t){return ht.visit(this.ast,t)};function E(t){var r;if(this?r=this:r=Object.create(E.prototype),typeof t=="undefined")throw new Error("A route spec is required");return r.spec=t,r.ast=lt.parse(t),r}var ut=E,ft=ut,pt=ft;function yt(t={}){return"<div>Image gallery</div>"}const dt={Gallery:new pt(Q.routes.index)},N=t=>{let r="<h1>404</h1>";dt.Gallery.match(t)&&(r=yt()),document.querySelector("#app").innerHTML=r},mt=t=>{window.history.pushState({path:t},t.path),N(t)},gt=()=>{window.addEventListener("popstate",t=>{N(new URL(window.location.href).pathname)}),document.querySelectorAll('[href^="/"]').forEach(t=>{t.addEventListener("click",r=>{r.preventDefault();const{pathname:o}=new URL(evn.target.href);mt(o)})}),N(new URL(window.location.href).pathname)};gt();export{_t as __vite_legacy_guard};
